<!DOCTYPE html>
<html>
    <head>
        <title>BlazeBury Music</title>
        <meta charset="UTF-8">
        <link href="css/style.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="apple-touch-icon" href="/icon.png" />
        <link rel="shortcut icon" type="image/png" href="/icon.png"/>
    </head>
    <body onHashChange="refresh()">
        <div class="header">
            <div class="leftwing">
                <a href="#"><h2>blazebury</h2></a>
                <input id="q" placeholder="Search" autocomplete="off" oninput="search();" onfocus="if (!window.location.hash.includes('#search')) {window.open('#search','_self');}">
            </div>
            <div class="rightwing">
                <a href="#settings">
                    <button onClick="refresh();">Settings</button>
                </a>
                <a href="#about">
                    <button onClick="refresh();">About</button>
                </a>
                <div>
                    <button id="showPlayer" onclick="makePlayerVisible();">Show Player</button>
                </div>
                <div>
                    <button id="hidePlayer" style="display:none;" onclick="hidePlayer();">Hide Player</button>
                </div>
                <a href="#">
                    <button onClick="refresh();">Home</button>
                </a>
            </div>
        </div>
        <div class="main">
            <div id="home" class="page">
                <h1 class="pageTitle">Home</h1>
                <div>
                    <h2 class="sectionTitle">Trending</h2>
                    <div class="section">
                        <div class="secLoad" id="sect1Load">
                            Loading...
                        </div>
                        <div class="sectInner" id="sect1">

                        </div>
                    </div>
                </div>
            </div>
            <div id="settings" class="page" style="display:none;">
                <h1 class="pageTitle">Settings</h1>
                <div id="sLoading">
                    <p>Retrieving your config...</p>
                </div>
                <div id="sContents" style="display:none;">
                    <p>When you click save, the app will reboot instantly.</p>
                    <div class="setting">
                        <label for="dataSrc">Data source:</label>
                        <select id="dataSrc" name="dataSrc">
                            <option value="1">Deezer</option>
                            <option value="2">Last.fm</option>
                            <option value="3">YouTube (EXPERIMENTAL)</option>
                        </select>
                    </div>
                    <div class="setting">
                        <label for="lfmKey">Last.FM API Key:</label>
                        <input placeholder="Generate one @ last.fm/api/account/create - Required if your scraper is Lastfm" id="lfmKey" name="lfmKey"><br>
                    </div>
                    <div class="setting">
                        <label for="discordRpc">Show what you're listening to on Discord:</label>
                        <select name="discordRpc" id="discordRpc">
                            <option value="true">Yes</option>
                            <option value="false">No</option>
                        </select>
                    </div>
                    <div class="setting">
                        <label for="discordRpcId">Discord RPC ID:</label>
                        <input placeholder="Generate one @ discord.com/developers - Required for Discord Rich Presence" name="discordRpcId" id="discordRpcId">
                    </div>
                    <button onclick="saveSettings();" style="background:black !important">Save Settings</button>
                </div>
            </div>
            <div id="about" class="page" style="display:none;">
                <h1 class="pageTitle">About</h1>
                <svg class="logo" version="1.1" viewBox="0.0 0.0 1920.0 1920.0" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><clipPath id="p.0"><path d="m0 0l1920.0 0l0 1920.0l-1920.0 0l0 -1920.0z" clip-rule="nonzero"/></clipPath><g clip-path="url(#p.0)"><path fill="#000000" fill-opacity="0.0" d="m0 0l1920.0 0l0 1920.0l-1920.0 0z" fill-rule="evenodd"/><path fill="#010400" d="m9.606299 960.0l0 0c0 -524.88794 425.50577 -950.3937 950.3937 -950.3937l0 0c252.06006 0 493.7964 100.13048 672.0298 278.3639c178.2334 178.23337 278.3639 419.96976 278.3639 672.0298l0 0c0 524.88794 -425.50574 950.3937 -950.3937 950.3937l0 0c-524.88794 0 -950.3937 -425.50574 -950.3937 -950.3937z" fill-rule="evenodd"/><path fill="#8accd0" d="m1168.0564 1561.0884l-242.66077 -480.5354l-282.22107 0l242.66077 480.5354z" fill-rule="evenodd"/><path stroke="#8accd0" stroke-width="2.0" stroke-linejoin="round" stroke-linecap="butt" d="m1168.0564 1561.0884l-242.66077 -480.5354l-282.22107 0l242.66077 480.5354z" fill-rule="evenodd"/><path fill="#8accd0" d="m1276.7803 839.4538l-242.66077 -480.53543l-282.22107 0l242.66077 480.53543z" fill-rule="evenodd"/><path stroke="#8accd0" stroke-width="2.0" stroke-linejoin="round" stroke-linecap="butt" d="m1276.7803 839.4538l-242.66077 -480.53543l-282.22107 0l242.66077 480.53543z" fill-rule="evenodd"/><path fill="#d3ecee" d="m643.1782 1080.5398l123.23059 -241.07092l510.37573 0l-123.23059 241.07092z" fill-rule="evenodd"/><path stroke="#d3ecee" stroke-width="2.0" stroke-linejoin="round" stroke-linecap="butt" d="m643.1782 1080.5398l123.23059 -241.07092l510.37573 0l-123.23059 241.07092z" fill-rule="evenodd"/></g></svg>
                <div class="info">
                    <h2 style="margin:0;">blazebury music</h2>
                    <p>Welcome to Blazebury. Blazebury is a DRM free music streaming app written in NodeJS and Electron.</p>
                    <p>Blazebury is licensed in the Unlicense, dedicating this software to the public domain.</p>
                    <p>The logo of this software was designed by <i>hazycora</i>.</p>
                    <p>Version: <b>0.1.0 alpha</b></p>
                </div>
            </div>
            <div id="search" class="page">
                <h1 class="pageTitle">Search</h1>
                <div id="results"></div>
            </div>
            <div id="queue" class="page">
                <h1 class="pageTitle">Queue</h1>
                <button style="margin-left:0.75%;margin-bottom:0.75%;background:black !important;" onclick="clearQueue();">Clear Queue</button>
                <div id="queueListing"></div>
            </div>
            <div id="lyrics" class="hoverPage">
                <h1 class="pageTitle">Lyrics</h1>
                <p id="lyricsPage">Loading...</p>
            </div>
            <div id="artist" class="page">
                <div id="artistPage">
                    <div class="infoBox">
                        <img id="artistCover">
                        <div class="ibInner">
                            <h1 id="artName"></h1>
                            <p id="artBio"></p>
                            <div class="stats">
                                <h2 id="artAlbCountContainer"><span class="material-icons">album</span> <span id="albumCount"></span> albums released</h2>
                                <h2><span class="material-icons">person_add</span> <span id="artFollowerCount"></span> <span id="artNumCat1"></span> on <span id="artNumSrc1"></span></h2>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h2 class="sectionTitle">Albums</h2>
                        <div class="section">
                            <div class="secLoad" id="artAlbumsLoad">
                                Loading...
                            </div>
                            <div class="sectInner" id="artAlbums"></div>
                        </div>
                    </div>
                </div>
                <div id="artistLoad" class="secLoad">
                    Loading...
                </div>
            </div>
            <div id="album" class="page">
                <div id="albumPage">
                    <div class="infoBox">
                        <img id="albumCover">
                        <div class="ibInner">
                            <h1 id="albName"></h1>
                            <a id="albArtLink"><h2 id="albArtist"></h2></a>
                            <div class="stats">
                                <h2><span class="material-icons">album</span> <span id="trackCount"></span> tracks</h2>
                                <h2><span class="material-icons">person_add</span> <span id="albFollowerCount"></span> <span id="albNumCat1"></span> on <span id="albNumSrc1"></span></h2>
                            </div>
                        </div>
                        <div id="tracklist"></div>
                        <div id="tracklistErr" style="display:none;">
                            <p>The scraper does not have a valid tracklist.</p>
                        </div>
                    </div>
                </div>
                <div class="secLoad" id="albumLoad">
                    Loading...
                </div>
            </div>
        </div>
        <div class="player" id="player" visible="0" style="margin-bottom:-200px;">
            <img id="cover" src="icon.png">
            <div id="metadata">
                <a id="trackLink"><h2 id="trackName">Nothing is playing.</h2></a>
                <a id="artistLink"><h3 id="artistName">Blazebury Music</h3></a>
                <div id="loaded">
                    <input type="range" class="progressBar" id="pb" value="0"><br>
                    <div id="buttonBar">
                        <button id="previousBtn" title="Go to the previous track." onclick="goToPrev();" class="material-icons">skip_previous</button>
                        <button title="Toggle playback." id="togglePlayback" onclick="togglePlayback();" class="material-icons">play_arrow</button>
                        <a title="View queue." id="queueLink" href="#queue"><button class="material-icons">queue_music</button></a>
                        <a href="#lyrics" id="lyricsLink"><button id="lyrics" title="Get the lyrics to this song." class="material-icons">audiotrack</button></a>
                        <button id="loopBtn" title="Loop queue/currently playing song." class="material-icons" onclick="toggleLoop();">repeat</button>
                        <button id="nextBtn" title="Go to the next track." onclick="goToNext();" class="material-icons">skip_next</button>
                    </div>
                </div>
                <div id="loading">
                    <p id="progress">Loading metadata...</p>
                </div>
            </div>
            <audio id="actualPlayer"></audio>
        </div>
        <script src="app.js"></script>
        <div class="menu">
            <ul class="menu-options">
                <li class="menu-option" onclick="addToQueue(this.parentElement.parentElement.id);"><span class="material-icons">queue_music</span> Add to Queue</li>
            </ul>
        </div>
    </body>
</html>
